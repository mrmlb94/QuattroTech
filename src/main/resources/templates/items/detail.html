<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${item.name} + ' - QuattroTech'">Item Detail - QuattroTech</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
    <style>
        .detail-container {
            max-width: 800px;
            margin: 0 auto;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            font-size: 1.1rem;
            color: #212529;
        }
        .price-display {
            font-size: 2rem;
            font-weight: bold;
            color: #28a745;
        }
        .stock-badge {
            font-size: 1.2rem;
            padding: 0.5rem 1rem;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/items">QuattroTech Shop</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/items">All Items</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/items/new">Add New</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="detail-container">
            <!-- Breadcrumb -->
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/items">Items</a></li>
                    <li class="breadcrumb-item active" aria-current="page" th:text="${item.name}">Item</li>
                </ol>
            </nav>

            <!-- Item Detail Card -->
            <div class="card shadow-lg">
                <div class="card-header bg-primary text-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <h2 class="mb-0" th:text="${item.name}">Item Name</h2>
                        <span class="stock-badge badge" 
                              th:classappend="${item.quantity > 10} ? 'bg-success' : (${item.quantity > 0} ? 'bg-warning text-dark' : 'bg-danger')"
                              th:text="${item.quantity > 0} ? 'In Stock' : 'Out of Stock'">
                            Stock Status
                        </span>
                    </div>
                </div>

                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <!-- Price Section -->
                            <div class="mb-4">
                                <p class="detail-label mb-2">Price</p>
                                <p class="price-display mb-0">
                                    <span th:text="${'$' + #numbers.formatDecimal(item.price, 1, 2)}">$0.00</span>
                                </p>
                            </div>

                            <!-- Quantity Section -->
                            <div class="mb-4">
                                <p class="detail-label mb-2">Available Quantity</p>
                                <p class="detail-value">
                                    <span class="badge bg-info fs-5" th:text="${item.quantity} + ' units'">0 units</span>
                                </p>
                            </div>
                        </div>

                        <div class="col-md-6 mb-4">
                            <!-- Description Section -->
                            <div class="mb-4">
                                <p class="detail-label mb-2">Description</p>
                                <p class="detail-value" th:text="${item.description} ?: 'No description available'">
                                    Description text here
                                </p>
                            </div>

                            <!-- ID Section -->
                            <div class="mb-4">
                                <p class="detail-label mb-2">Item ID</p>
                                <p class="detail-value">
                                    <code th:text="${item.id}">item-id-123</code>
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Stock Level Alert -->
                    <div th:if="${item.quantity < 5 and item.quantity > 0}" 
                         class="alert alert-warning" role="alert">
                        <strong>Low Stock Warning!</strong> Only 
                        <span th:text="${item.quantity}">0</span> units remaining.
                    </div>

                    <div th:if="${item.quantity == 0}" 
                         class="alert alert-danger" role="alert">
                        <strong>Out of Stock!</strong> This item is currently unavailable.
                    </div>

                    <!-- Total Value Calculation -->
                    <div class="card bg-light mt-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <p class="detail-label mb-1">Total Inventory Value</p>
                                </div>
                                <div class="col-md-6 text-end">
                                    <p class="detail-value mb-0 text-success">
                                        <strong th:text="${'$' + #numbers.formatDecimal(item.price * item.quantity, 1, 2)}">
                                            $0.00
                                        </strong>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="card-footer bg-light">
                    <div class="d-flex justify-content-between">
                        <a th:href="@{/items}" class="btn btn-secondary">
                            <i class="bi bi-arrow-left"></i> Back to List
                        </a>
                        <div>
                            <a th:href="@{/items/edit/{id}(id=${item.id})}" 
                               class="btn btn-warning me-2">
                                <i class="bi bi-pencil"></i> Edit
                            </a>
                            <a th:href="@{/items/delete/{id}(id=${item.id})}" 
                               class="btn btn-danger"
                               onclick="return confirm('Are you sure you want to delete this item?');">
                                <i class="bi bi-trash"></i> Delete
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
